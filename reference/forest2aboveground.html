<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Input for simulation models (deprecated) — forest2aboveground • medfate</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Input for simulation models (deprecated) — forest2aboveground"><meta property="og:description" content="Functions forest2spwbInput() and forest2growthInput() take an object of class forest 
and a soil data input to create input objects for simulation functions spwb (or pwb) and growth, respectively. 
Function forest2aboveground() calculates aboveground variables such as leaf area index. 
Function forest2belowground() calculates belowground variables such as fine root distribution."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">medfate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/emf-creaf/medfate/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Input for simulation models (deprecated)</h1>
    <small class="dont-index">Source: <a href="https://github.com/emf-creaf/medfate/blob/HEAD/R/RcppExports.R" class="external-link"><code>R/RcppExports.R</code></a></small>
    <div class="hidden name"><code>forest2aboveground.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions <code>forest2spwbInput()</code> and <code>forest2growthInput()</code> take an object of class <code><a href="forest.html">forest</a></code> 
and a soil data input to create input objects for simulation functions <code><a href="spwb.html">spwb</a></code> (or <code><a href="spwb.html">pwb</a></code>) and <code><a href="growth.html">growth</a></code>, respectively. 
Function <code>forest2aboveground()</code> calculates aboveground variables such as leaf area index. 
Function <code>forest2belowground()</code> calculates belowground variables such as fine root distribution.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">forest2aboveground</span><span class="op">(</span><span class="va">x</span>, <span class="va">SpParams</span>, gdd <span class="op">=</span> <span class="cn">NA_real_</span>, loading <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">forest2belowground</span><span class="op">(</span><span class="va">x</span>, <span class="va">soil</span>, <span class="va">SpParams</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">forest2spwbInput</span><span class="op">(</span><span class="va">x</span>, <span class="va">soil</span>, <span class="va">SpParams</span>, <span class="va">control</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">forest2growthInput</span><span class="op">(</span><span class="va">x</span>, <span class="va">soil</span>, <span class="va">SpParams</span>, <span class="va">control</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>An object of class <code><a href="forest.html">forest</a></code>.</p></dd>


<dt>SpParams</dt>
<dd><p>A data frame with species parameters (see <code><a href="SpParams.html">SpParamsDefinition</a></code> and <code><a href="SpParams.html">SpParamsMED</a></code>).</p></dd>


<dt>gdd</dt>
<dd><p>Growth degree days to account for leaf phenology effects (in Celsius). This should be left <code>NA</code> in most applications.</p></dd>


<dt>loading</dt>
<dd><p>A logical flag to indicate that fuel loading should be included (for fire hazard calculations).</p></dd>


<dt>soil</dt>
<dd><p>An object of class <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code> or <code><a href="soil.html">soil</a></code>, containing soil parameters per soil layer.</p></dd>


<dt>control</dt>
<dd><p>A list with default control parameters (see <code><a href="defaultControl.html">defaultControl</a></code>).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Function <code>forest2aboveground()</code> returns a data frame with the following columns (rows are identified as specified by function <code><a href="plant_values.html">plant_ID</a></code>):</p><ul><li><p><code>SP</code>: Species identity (an integer) (first species is 0).</p></li>
<li><p><code>N</code>: Cohort density (ind/ha) (see function <code><a href="plant_values.html">plant_density</a></code>).</p></li>
<li><p><code>DBH</code>: Tree diameter at breast height (cm).</p></li>
<li><p><code>H</code>: Plant total height (cm).</p></li>
<li><p><code>CR</code>: Crown ratio (crown length to total height) (between 0 and 1).</p></li>
<li><p><code>LAI_live</code>: Live leaf area index (m2/m2) (one-side leaf area relative to plot area), includes leaves in winter dormant buds.</p></li>
<li><p><code>LAI_expanded</code>: Leaf area index of expanded leaves (m2/m2) (one-side leaf area relative to plot area).</p></li>
<li><p><code>LAI_dead</code>: Dead leaf area index (m2/m2) (one-side leaf area relative to plot area).</p></li>
<li><p><code>Loading</code>: Fine fuel loading (kg/m2), only if <code>loading = TRUE</code>.</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>Function <code>forest2aboveground()</code> extracts height and species identity from plant cohorts of <code>x</code>, 
and calculate leaf area index and crown ratio.</p>
<p><em>IMPORTANT NOTE</em>: Function names <code>forest2spwbInput()</code> and <code>forest2growthInput()</code> are now deprecated, but 
they can still be used for back-compatibility. They correspond to functions <code><a href="modelInput.html">spwbInput</a></code> and <code><a href="modelInput.html">growthInput</a></code></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="modelInput.html">spwbInput</a></code>, <code><a href="soil.html">soil</a></code>,  
<code><a href="forest.html">forest</a></code>, <code><a href="SpParams.html">SpParamsMED</a></code>, <code><a href="defaultSoilParams.html">defaultSoilParams</a></code>, <code><a href="plant_values.html">plant_ID</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Miquel De Cáceres Ainsa, CREAF</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#Load example plot plant data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">exampleforest</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Default species parameterization</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">SpParamsMED</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Aboveground parameters</span></span></span>
<span class="r-in"><span><span class="fu">forest2aboveground</span><span class="op">(</span><span class="va">exampleforest</span>, <span class="va">SpParamsMED</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         SP        N   DBH Cover   H        CR   LAI_live LAI_expanded LAI_dead</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T1_148 148 168.0000 37.55    NA 800 0.6605196 0.84874773   0.84874773        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T2_168 168 384.0000 14.60    NA 660 0.6055642 0.70557382   0.70557382        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S1_165 165 749.4923    NA  3.75  80 0.8032817 0.03062604   0.03062604        0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example of aboveground parameters taken from a forest</span></span></span>
<span class="r-in"><span><span class="co"># described using LAI and crown ratio</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">exampleforest2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">forest2aboveground</span><span class="op">(</span><span class="va">exampleforest2</span>, <span class="va">SpParamsMED</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         SP  N DBH Cover   H   CR LAI_live LAI_expanded LAI_dead</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T1_148 148 NA  NA    NA 800 0.66     0.80         0.80        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T2_168 168 NA  NA    NA 660 0.60     0.50         0.50        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S1_165 165 NA  NA    NA  80 0.80     0.03         0.03        0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define soil with default soil params (4 layers)</span></span></span>
<span class="r-in"><span><span class="va">examplesoil</span> <span class="op">&lt;-</span> <span class="fu"><a href="defaultSoilParams.html">defaultSoilParams</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Bewowground parameters (distribution of fine roots)</span></span></span>
<span class="r-in"><span><span class="fu">forest2belowground</span><span class="op">(</span><span class="va">exampleforest</span>, <span class="va">examplesoil</span>, <span class="va">SpParamsMED</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                1         2          3           4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T1_148 0.8604899 0.1194556 0.01511005 0.004944476</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T2_168 0.5008953 0.4505941 0.04064831 0.007862284</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S1_165 0.6799879 0.2737911 0.03567632 0.010544678</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Miquel De Cáceres, Nicolas Martin-StPaul, Víctor Granda, Antoine Cabon.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

