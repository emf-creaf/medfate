<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Input for simulation models (deprecated) — forest2aboveground • medfate</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Input for simulation models (deprecated) — forest2aboveground"><meta name="description" content="Functions forest2spwbInput() and forest2growthInput() take an object of class forest
and a soil data input to create input objects for simulation functions spwb (or pwb) and growth, respectively.
Function forest2aboveground() calculates aboveground variables such as leaf area index.
Function forest2belowground() calculates belowground variables such as fine root distribution."><meta property="og:description" content="Functions forest2spwbInput() and forest2growthInput() take an object of class forest
and a soil data input to create input objects for simulation functions spwb (or pwb) and growth, respectively.
Function forest2aboveground() calculates aboveground variables such as leaf area index.
Function forest2belowground() calculates belowground variables such as fine root distribution."><meta property="og:image" content="https://emf-creaf.github.io/medfate/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">medfate</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introduction</h6></li>
    <li><a class="dropdown-item" href="../articles/intro/PackageOverview.html">Package overview</a></li>
    <li><a class="dropdown-item" href="../articles/intro/UnderstandingInputs.html">Understanding model inputs</a></li>
    <li><a class="dropdown-item" href="../articles/intro/PreparingInputs.html">Preparing model inputs</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Running simulations</h6></li>
    <li><a class="dropdown-item" href="../articles/runmodels/BasicWaterBalance.html">Basic water balance</a></li>
    <li><a class="dropdown-item" href="../articles/runmodels/AdvancedWaterEnergyBalance.html">Advanced water and energy balance</a></li>
    <li><a class="dropdown-item" href="../articles/runmodels/ForestGrowth.html">Forest growth</a></li>
    <li><a class="dropdown-item" href="../articles/runmodels/ForestDynamics.html">Forest dynamics</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/emf-creaf/medfate/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Input for simulation models (deprecated)</h1>
      <small class="dont-index">Source: <a href="https://github.com/emf-creaf/medfate/blob/HEAD/R/RcppExports.R" class="external-link"><code>R/RcppExports.R</code></a></small>
      <div class="d-none name"><code>forest2aboveground.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Functions <code>forest2spwbInput()</code> and <code>forest2growthInput()</code> take an object of class <code><a href="forest.html">forest</a></code>
and a soil data input to create input objects for simulation functions <code><a href="spwb.html">spwb</a></code> (or <code><a href="spwb.html">pwb</a></code>) and <code><a href="growth.html">growth</a></code>, respectively.
Function <code>forest2aboveground()</code> calculates aboveground variables such as leaf area index.
Function <code>forest2belowground()</code> calculates belowground variables such as fine root distribution.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">forest2aboveground</span><span class="op">(</span><span class="va">x</span>, <span class="va">SpParams</span>, gdd <span class="op">=</span> <span class="cn">NA_real_</span>, loading <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">forest2belowground</span><span class="op">(</span><span class="va">x</span>, <span class="va">soil</span>, <span class="va">SpParams</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">forest2spwbInput</span><span class="op">(</span><span class="va">x</span>, <span class="va">soil</span>, <span class="va">SpParams</span>, <span class="va">control</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">forest2growthInput</span><span class="op">(</span><span class="va">x</span>, <span class="va">soil</span>, <span class="va">SpParams</span>, <span class="va">control</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object of class <code><a href="forest.html">forest</a></code>.</p></dd>


<dt id="arg-spparams">SpParams<a class="anchor" aria-label="anchor" href="#arg-spparams"></a></dt>
<dd><p>A data frame with species parameters (see <code><a href="SpParams.html">SpParamsDefinition</a></code> and <code><a href="SpParams.html">SpParamsMED</a></code>).</p></dd>


<dt id="arg-gdd">gdd<a class="anchor" aria-label="anchor" href="#arg-gdd"></a></dt>
<dd><p>Growth degree days to account for leaf phenology effects (in Celsius). This should be left <code>NA</code> in most applications.</p></dd>


<dt id="arg-loading">loading<a class="anchor" aria-label="anchor" href="#arg-loading"></a></dt>
<dd><p>A logical flag to indicate that fuel loading should be included (for fire hazard calculations).</p></dd>


<dt id="arg-soil">soil<a class="anchor" aria-label="anchor" href="#arg-soil"></a></dt>
<dd><p>An object of class <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code> or <code><a href="soil.html">soil</a></code>, containing soil parameters per soil layer.</p></dd>


<dt id="arg-control">control<a class="anchor" aria-label="anchor" href="#arg-control"></a></dt>
<dd><p>A list with default control parameters (see <code><a href="defaultControl.html">defaultControl</a></code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Function <code>forest2aboveground()</code> returns a data frame with the following columns (rows are identified as specified by function <code><a href="plant_values.html">plant_ID</a></code>):</p><ul><li><p><code>SP</code>: Species identity (an integer) (first species is 0).</p></li>
<li><p><code>N</code>: Cohort density (ind/ha) (see function <code><a href="plant_values.html">plant_density</a></code>).</p></li>
<li><p><code>DBH</code>: Tree diameter at breast height (cm).</p></li>
<li><p><code>H</code>: Plant total height (cm).</p></li>
<li><p><code>CR</code>: Crown ratio (crown length to total height) (between 0 and 1).</p></li>
<li><p><code>LAI_live</code>: Live leaf area index (m2/m2) (one-side leaf area relative to plot area), includes leaves in winter dormant buds.</p></li>
<li><p><code>LAI_expanded</code>: Leaf area index of expanded leaves (m2/m2) (one-side leaf area relative to plot area).</p></li>
<li><p><code>LAI_dead</code>: Dead leaf area index (m2/m2) (one-side leaf area relative to plot area).</p></li>
<li><p><code>Loading</code>: Fine fuel loading (kg/m2), only if <code>loading = TRUE</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Function <code>forest2aboveground()</code> extracts height and species identity from plant cohorts of <code>x</code>,
and calculate leaf area index and crown ratio.</p>
<p><em>IMPORTANT NOTE</em>: Function names <code>forest2spwbInput()</code> and <code>forest2growthInput()</code> are now internal and deprecated, but
they can still be used for back-compatibility. They correspond to functions <code><a href="modelInput.html">spwbInput</a></code> and <code><a href="modelInput.html">growthInput</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="modelInput.html">spwbInput</a></code>, <code><a href="soil.html">soil</a></code>,
<code><a href="forest.html">forest</a></code>, <code><a href="SpParams.html">SpParamsMED</a></code>, <code><a href="defaultSoilParams.html">defaultSoilParams</a></code>, <code><a href="plant_values.html">plant_ID</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Miquel De Cáceres Ainsa, CREAF</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#Load example plot plant data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">exampleforest</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Default species parameterization</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">SpParamsMED</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Aboveground parameters</span></span></span>
<span class="r-in"><span><span class="fu">forest2aboveground</span><span class="op">(</span><span class="va">exampleforest</span>, <span class="va">SpParamsMED</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         SP        N   DBH Cover   H        CR   LAI_live LAI_expanded LAI_dead</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T1_148 148 168.0000 37.55    NA 800 0.6605196 0.84874773   0.84874773        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T2_168 168 384.0000 14.60    NA 660 0.6055642 0.70557382   0.70557382        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S1_165 165 749.4923    NA  3.75  80 0.8032817 0.03062604   0.03062604        0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example of aboveground parameters taken from a forest</span></span></span>
<span class="r-in"><span><span class="co"># described using LAI and crown ratio</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">exampleforest2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">forest2aboveground</span><span class="op">(</span><span class="va">exampleforest2</span>, <span class="va">SpParamsMED</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         SP  N DBH Cover   H   CR LAI_live LAI_expanded LAI_dead</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T1_148 148 NA  NA    NA 800 0.66     0.80         0.80        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T2_168 168 NA  NA    NA 660 0.60     0.50         0.50        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S1_165 165 NA  NA    NA  80 0.80     0.03         0.03        0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define soil with default soil params (4 layers)</span></span></span>
<span class="r-in"><span><span class="va">examplesoil</span> <span class="op">&lt;-</span> <span class="fu"><a href="defaultSoilParams.html">defaultSoilParams</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Bewowground parameters (distribution of fine roots)</span></span></span>
<span class="r-in"><span><span class="fu">forest2belowground</span><span class="op">(</span><span class="va">exampleforest</span>, <span class="va">examplesoil</span>, <span class="va">SpParamsMED</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                1         2          3           4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T1_148 0.8604899 0.1194556 0.01511005 0.004944476</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> T2_168 0.5008953 0.4505941 0.04064831 0.007862284</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S1_165 0.6799879 0.2737911 0.03567632 0.010544678</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miquel De Cáceres, Nicolas Martin-StPaul, Víctor Granda, Antoine Cabon.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

