<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Understanding model inputs • medfate</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../../favicon.ico">
<link rel="manifest" href="../../site.webmanifest">
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../../deps/headroom-0.11.0/headroom.min.js"></script><script src="../../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../../deps/search-1.0.0/fuse.min.js"></script><script src="../../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Understanding model inputs">
<meta name="description" content="Describes the information and data format required for model simulation
">
<meta property="og:description" content="Describes the information and data format required for model simulation
">
<meta property="og:image" content="https://emf-creaf.github.io/medfate/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../../index.html">medfate</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.8.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introduction</h6></li>
    <li><a class="dropdown-item" href="../../articles/intro/PackageOverview.html">Package overview</a></li>
    <li><a class="dropdown-item" href="../../articles/intro/UnderstandingInputs.html">Understanding model inputs</a></li>
    <li><a class="dropdown-item" href="../../articles/intro/PreparingInputs.html">Preparing model inputs</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Running simulations</h6></li>
    <li><a class="dropdown-item" href="../../articles/runmodels/BasicWaterBalance.html">Basic water balance</a></li>
    <li><a class="dropdown-item" href="../../articles/runmodels/AdvancedWaterEnergyBalance.html">Advanced water and energy balance</a></li>
    <li><a class="dropdown-item" href="../../articles/runmodels/ForestGrowth.html">Forest growth</a></li>
    <li><a class="dropdown-item" href="../../articles/runmodels/ForestDynamics.html">Forest dynamics</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/emf-creaf/medfate/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../../logo.png" class="logo" alt=""><h1>Understanding model inputs</h1>
                        <h4 data-toc-skip class="author">Miquel De
Caceres</h4>
            
            <h4 data-toc-skip class="date">2025-05-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/emf-creaf/medfate/blob/HEAD/vignettes/intro/UnderstandingInputs.Rmd" class="external-link"><code>vignettes/intro/UnderstandingInputs.Rmd</code></a></small>
      <div class="d-none name"><code>UnderstandingInputs.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="about-this-article">About this article<a class="anchor" aria-label="anchor" href="#about-this-article"></a>
</h2>
<p>Any process-based model of forest functioning and dynamics needs
information on <strong>climate</strong>, <strong>vegetation</strong> and
<strong>soils</strong> of the forest stand to be simulated. Moreover,
since <code>medfate</code> allows simulating cohorts belonging to
different species, <strong>species-specific parameters</strong> are also
needed. Finally, <strong>simulation control parameters</strong> may need
to be changed, depending on the goals of the simulation. This article
explains data structures required as input to run simulations using the
package so that the user can understand them. A companion article <a href="https://emf-creaf.github.io/medfate/articles/intro/PreparingInputs.html"><em>Preparing
model inputs</em></a> provides a practical example to illustrate how to
create model inputs and some common problems encountered.</p>
</div>
<div class="section level2">
<h2 id="species-parameter-tables">Species parameter tables<a class="anchor" aria-label="anchor" href="#species-parameter-tables"></a>
</h2>
<p>Simulation models in <code>medfate</code> require a data frame with
species (taxon) parameter values. The package includes a default data
sets to be readily used. The values of the parameter table were obtained
from global trait data bases, bibliographic searches, fit to empirical
data or expert-based guesses:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"SpParamsMED"</span><span class="op">)</span> <span class="co"># For the Spanish forest inventory (including taxon groups)</span></span></code></pre></div>
<p>A large number of parameters (columns) can be found in species
parameter tables. Not all parameters are needed for all models. You can
find parameter definitions in table <code>SpParamsDefinition</code>,
which we reproduce below:</p>
<table class="table">
<colgroup>
<col width="5%">
<col width="83%">
<col width="1%">
<col width="7%">
<col width="1%">
</colgroup>
<thead><tr class="header">
<th align="left">ParameterName</th>
<th align="left">Definition</th>
<th align="left">Type</th>
<th align="left">Units</th>
<th align="left">Strict</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">Plant names (species binomials, genus or other) used in
vegetation data</td>
<td align="left">String</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">SpIndex</td>
<td align="left">Internal species codification (0,1,2,)</td>
<td align="left">Integer</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">AcceptedName</td>
<td align="left">Accepted scientific name of a taxon (genus, species,
subspecies or variety) used for parameterization</td>
<td align="left">String</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Species</td>
<td align="left">Taxonomic species of accepted name</td>
<td align="left">String</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Genus</td>
<td align="left">Taxonomic genus of accepted name</td>
<td align="left">String</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Family</td>
<td align="left">Taxonomic family of accepted name</td>
<td align="left">String</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Order</td>
<td align="left">Taxonomic order of accepted name</td>
<td align="left">String</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Group</td>
<td align="left">Either “Gymnosperm” or “Angiosperm”</td>
<td align="left">String</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">GrowthForm</td>
<td align="left">Growth form: Either “Shrub”, “Tree” or
“Tree/Shrub”</td>
<td align="left">String</td>
<td align="left">Categorical</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">LifeForm</td>
<td align="left">Raunkiaer life form</td>
<td align="left">String</td>
<td align="left">Categorical</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">LeafShape</td>
<td align="left">Broad/Needle/Linear/Scale/Spines/Succulent</td>
<td align="left">String</td>
<td align="left">Categorical</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">LeafSize</td>
<td align="left">Either “Small” (&lt; 225 mm), “Medium” (&gt; 225 mm
&amp; &lt; 2025 mm) or “Large” (&gt; 2025 mm)</td>
<td align="left">String</td>
<td align="left">Categorical</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">PhenologyType</td>
<td align="left">Leaf phenology type, either “oneflush-evergreen” (new
leaves develop in spring-summer), “progressive-evergreen” (new leaves
develop during any season), “winter-deciduous” (leaf senescence in
autumn, new leaves in spring-summer) or “winter-semideciduous” (same as
before, but abscission of senescent leaves occurs when new leaves are
produced).</td>
<td align="left">String</td>
<td align="left">Categorical</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">DispersalType</td>
<td align="left">Dispersal type, either wind-dispersed or
animal-dispersed</td>
<td align="left">String</td>
<td align="left">Categorical</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Hmed</td>
<td align="left">Median plant height</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Hmax</td>
<td align="left">Maximum plant height</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Dmax</td>
<td align="left">Maximum tree diameter</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Z50</td>
<td align="left">Depth corresponding to 50% of fine roots</td>
<td align="left">Numeric</td>
<td align="left">mm</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Z95</td>
<td align="left">Depth corresponding to 95% of fine roots</td>
<td align="left">Numeric</td>
<td align="left">mm</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">fHDmin</td>
<td align="left">Minimum value of height-diameter ratio</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">fHDmax</td>
<td align="left">Maximum value of height-diameter ratio</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">a_ash</td>
<td align="left">Allometric coefficient for shrub area as function of
height</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">b_ash</td>
<td align="left">Allometric coefficient for shrub area as function of
height</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">a_bsh</td>
<td align="left">Allometric coefficient for fine fuel shrub biomass (dry
weight)</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">b_bsh</td>
<td align="left">Allometric coefficient for fine fuel shrub biomass (dry
weight)</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">a_btsh</td>
<td align="left">Allometric coefficient for total fuel shrub biomass
(dry weight)</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">b_btsh</td>
<td align="left">Allometric coefficient for total fuel shrub biomass
(dry weight)</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">cr</td>
<td align="left">Proportion of total height corresponding to the crown
(i.e. Crown length divided by total height)</td>
<td align="left">Numeric</td>
<td align="left">[0-1]</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">BTsh</td>
<td align="left">Shrub bark thickness</td>
<td align="left">Numeric</td>
<td align="left">mm</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">a_fbt</td>
<td align="left">Regression coefficient for tree foliar biomass</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">b_fbt</td>
<td align="left">Regression coefficient for tree foliar biomass</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">c_fbt</td>
<td align="left">Regression coefficient for tree foliar biomass</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">a_cr</td>
<td align="left">Regression coefficient for crown ratio</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">b_1cr</td>
<td align="left">Regression coefficient for crown ratio</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">b_2cr</td>
<td align="left">Regression coefficient for crown ratio</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">b_3cr</td>
<td align="left">Regression coefficient for crown ratio</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">c_1cr</td>
<td align="left">Regression coefficient for crown ratio</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">c_2cr</td>
<td align="left">Regression coefficient for crown ratio</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">a_cw</td>
<td align="left">Regression coefficient for crown width</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">b_cw</td>
<td align="left">Regression coefficient for crown width</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">a_bt</td>
<td align="left">Regression coefficient for bark thickness (mm) as
function of DBH (cm)</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">b_bt</td>
<td align="left">Regression coefficient for bark thickness (mm) as
function of DBH (cm)</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">LeafDuration</td>
<td align="left">Duration of leaves in year</td>
<td align="left">Numeric</td>
<td align="left">years</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">t0gdd</td>
<td align="left">Date to start the accumulation of degree days</td>
<td align="left">Numeric</td>
<td align="left">days</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Sgdd</td>
<td align="left">Degree days for leaf budburst</td>
<td align="left">Numeric</td>
<td align="left">Degrees C</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Tbgdd</td>
<td align="left">Base temperature for the calculation of degree days to
leaf budburst</td>
<td align="left">Numeric</td>
<td align="left">Degrees C</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Ssen</td>
<td align="left">Degree days corresponding to senescence</td>
<td align="left">Numeric</td>
<td align="left">Degrees C</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Phsen</td>
<td align="left">Photoperiod corresponding to start counting
senescence</td>
<td align="left">Numeric</td>
<td align="left">hours</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Tbsen</td>
<td align="left">Base temperature for the calculation of degree days to
senescence</td>
<td align="left">Numeric</td>
<td align="left">Degrees C</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">xsen</td>
<td align="left">Discrete values, to allow for any
absent/proportional/more than proportional effects of temperature on
senescence</td>
<td align="left">Integer</td>
<td align="left">{0,1,2}</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">ysen</td>
<td align="left">Discrete values, to allow for any
absent/proportional/more than proportional effects of photoperiod on
senescence</td>
<td align="left">Integer</td>
<td align="left">{0,1,2}</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">SLA</td>
<td align="left">Specific leaf area (mm2/mg = m2/kg)</td>
<td align="left">Numeric</td>
<td align="left">m2/kg</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">LeafDensity</td>
<td align="left">Density of leaf tissue (dry weight over volume)</td>
<td align="left">Numeric</td>
<td align="left">g/cm3</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">WoodDensity</td>
<td align="left">Wood tissue density (at 0% humidity!)</td>
<td align="left">Numeric</td>
<td align="left">g/cm3</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">FineRootDensity</td>
<td align="left">Density of fine root tissue (dry weight over
volume).</td>
<td align="left">Numeric</td>
<td align="left">g/cm3</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">conduit2sapwood</td>
<td align="left">Proportion of sapwood corresponding to conducive
elements (vessels or tracheids) as opposed to parenchymatic tissue.</td>
<td align="left">Numeric</td>
<td align="left">[0,1]</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">r635</td>
<td align="left">Ratio of foliar (photosynthetic) + small branches
(&lt;6.35 mm) dry biomass to foliar (photosynthetic) dry biomass</td>
<td align="left">Numeric</td>
<td align="left">&gt;=1</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">pDead</td>
<td align="left">Proportion of total fine fuels that are dead</td>
<td align="left">Numeric</td>
<td align="left">[0,1]</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Al2As</td>
<td align="left">Leaf area to sapwood area ratio</td>
<td align="left">Numeric</td>
<td align="left">m2 / m2</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Ar2Al</td>
<td align="left">Root area to leaf area ratio</td>
<td align="left">Numeric</td>
<td align="left">m2 / m2</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">LeafWidth</td>
<td align="left">Leaf width</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">SRL</td>
<td align="left">Specific root length</td>
<td align="left">Numeric</td>
<td align="left">cm/g</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">RLD</td>
<td align="left">Fine root length density (density of root length per
soil volume)</td>
<td align="left">Numeric</td>
<td align="left">cm/cm3</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">maxFMC</td>
<td align="left">Maximum fuel moisture (in percent of dry weight)</td>
<td align="left">Numeric</td>
<td align="left">%</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">minFMC</td>
<td align="left">Minimum fuel moisture (in percent of dry weight)</td>
<td align="left">Numeric</td>
<td align="left">%</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">LeafPI0</td>
<td align="left">Osmotic potential at full turgor of leaves</td>
<td align="left">Numeric</td>
<td align="left">Mpa</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">LeafEPS</td>
<td align="left">Modulus of elasticity (capacity of the cell wall to
resist changes in volume in response to changes in turgor) of
leaves</td>
<td align="left">Numeric</td>
<td align="left">Mpa</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">LeafAF</td>
<td align="left">Apoplastic fraction (proportion of water outside the
living cells) in leaves</td>
<td align="left">Numeric</td>
<td align="left">%</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">StemPI0</td>
<td align="left">Osmotic potential at full turgor of symplastic xylem
tissue</td>
<td align="left">Numeric</td>
<td align="left">Mpa</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">StemEPS</td>
<td align="left">Modulus of elasticity (capacity of the cell wall to
resist changes in volume in response to changes in turgor) of symplastic
xylem tissue</td>
<td align="left">Numeric</td>
<td align="left">Mpa</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">StemAF</td>
<td align="left">Apoplastic fraction (proportion of water outside the
living cells) in stem xylem</td>
<td align="left">Numeric</td>
<td align="left">%</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">SAV</td>
<td align="left">Surface-area-to-volume ratio of the small fuel (1h)
fraction (leaves and branches &lt; 6.35mm)</td>
<td align="left">Numeric</td>
<td align="left">m2/m3</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">HeatContent</td>
<td align="left">High fuel heat content</td>
<td align="left">Numeric</td>
<td align="left">kJ/kg</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">LigninPercent</td>
<td align="left">Percent of lignin+cutin over dry weight in leaves</td>
<td align="left">Numeric</td>
<td align="left">%</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">LeafAngle</td>
<td align="left">The angle between the leaf plane and the horizontal
plane (i.e. leaf zenith angle)</td>
<td align="left">Numeric</td>
<td align="left">degrees</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">LeafAngleSD</td>
<td align="left">Standard deviation of the leaf angle</td>
<td align="left">Numeric</td>
<td align="left">degrees</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">ClumpingIndex</td>
<td align="left">Canopy clumping index</td>
<td align="left">Numeric</td>
<td align="left">[0-1]</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">gammaSWR</td>
<td align="left">Reflectance (albedo) coefficient for SWR (gammaPAR is
0.8*gammaSWR)</td>
<td align="left">Numeric</td>
<td align="left">unitless</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">alphaSWR</td>
<td align="left">Absorbance coefficient for SWR (alphaPAR is
alphaSWR*1.35)</td>
<td align="left">Numeric</td>
<td align="left">unitless</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">kPAR</td>
<td align="left">Light extinction coeficient for PAR (extinction
coefficient for SWR is kPAR/1.35)</td>
<td align="left">Numeric</td>
<td align="left">unitless</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">g</td>
<td align="left">Canopy water storage capacity per LAI unit</td>
<td align="left">Numeric</td>
<td align="left">mm/LAI</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Tmax_LAI</td>
<td align="left">Empirical coefficient relating LAI with the ratio of
maximum transpiration over potential evapotranspiration.</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Tmax_LAIsq</td>
<td align="left">Empirical coefficient relating squared LAI with the
ratio of maximum transpiration over potential evapotranspiration.</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Psi_Extract</td>
<td align="left">Water potential corresponding to 50% reduction of
transpiration</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Exp_Extract</td>
<td align="left">Parameter of the Weibull function regulating
transpiration reduction</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">WUE</td>
<td align="left">Daily water use efficiency (gross photosynthesis over
transpiration) under no light, water or CO2 limitations and VPD =
1kPa</td>
<td align="left">Numeric</td>
<td align="left">g C * mm H2O-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">WUE_par</td>
<td align="left">Coefficient regulating the influence of % PAR on gross
photosynthesis</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">WUE_co2</td>
<td align="left">Coefficient regulating the influence of atmospheric CO2
concentration on gross photosynthesis</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">WUE_vpd</td>
<td align="left">Coefficient regulating the influence of vapor pressure
deficit (VPD) on gross photosynthesis</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Gswmin</td>
<td align="left">Minimum leaf conductance (cuticular+incomplete closure)
at 20C</td>
<td align="left">Numeric</td>
<td align="left">mol H2O * s-1 * m-2</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Gswmax</td>
<td align="left">Maximum stomatal conductance to water vapour</td>
<td align="left">Numeric</td>
<td align="left">mol H2O * s-1 * m-2</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Gsw_AC_slope</td>
<td align="left">Slope of the Gsw vs Ac/Cs relationship (Baldocchi
model).</td>
<td align="left">Numeric</td>
<td align="left">mol H2O * mmol CO2-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Gs_Toptim</td>
<td align="left">Temperature corresponding to maximal stomatal
conductance</td>
<td align="left">Numeric</td>
<td align="left">Degrees C</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Gs_Tsens</td>
<td align="left">Stomatal sensitivity to temperature</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Gs_P50</td>
<td align="left">Water potential causing 50% reduction in stomatal
conductance</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Gs_slope</td>
<td align="left">Rate of decrease in stomatal conductance at Gs_P50</td>
<td align="left">Numeric</td>
<td align="left">%/MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">VCleaf_kmax</td>
<td align="left">Maximum leaf hydraulic conductance</td>
<td align="left">Numeric</td>
<td align="left">mmol H2O * s-1 * m-2 * MPa-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">VCleaf_P12</td>
<td align="left">12% of maximum conductance of the leaf vulnerability
curve</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">VCleaf_P50</td>
<td align="left">50% of maximum conductance of the leaf vulnerability
curve</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">VCleaf_P88</td>
<td align="left">88% of maximum conductance of the leaf vulnerability
curve</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">VCleaf_slope</td>
<td align="left">Slope of the rate of leaf embolism spread at
VCleaf_P50</td>
<td align="left">Numeric</td>
<td align="left">%/MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Kmax_stemxylem</td>
<td align="left">Maximum sapwood-specific hydraulic conductivity of stem
xylem</td>
<td align="left">Numeric</td>
<td align="left">kg H2O * s-1 * m-1 * Mpa-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">VCstem_P12</td>
<td align="left">12% of maximum conductance of the stem vulnerability
curve</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">VCstem_P50</td>
<td align="left">50% of maximum conductance of the stem vulnerability
curve</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">VCstem_P88</td>
<td align="left">88% of maximum conductance of the stem vulnerability
curve</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">VCstem_slope</td>
<td align="left">Slope of the rate of stem embolism spread at
VCleaf_P50</td>
<td align="left">Numeric</td>
<td align="left">%/MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Kmax_rootxylem</td>
<td align="left">Maximum sapwood-specific hydraulic conductivity of root
xylem</td>
<td align="left">Numeric</td>
<td align="left">kg H2O * s-1 * m-1 * Mpa-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">VCroot_P12</td>
<td align="left">12% of maximum conductance of the root vulnerability
curve</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">VCroot_P50</td>
<td align="left">50% of maximum conductance of the root vulnerability
curve</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">VCroot_P88</td>
<td align="left">88% of maximum conductance of the root vulnerability
curve</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">VCroot_slope</td>
<td align="left">Slope of the rate of root embolism spread at
VCleaf_P50</td>
<td align="left">Numeric</td>
<td align="left">%/MPa</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Vmax298</td>
<td align="left">Maximum Rubisco carboxilation rate</td>
<td align="left">Numeric</td>
<td align="left">mmol CO2 * s-1* m-2</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Jmax298</td>
<td align="left">Maximum rate of electron transport at 298K</td>
<td align="left">Numeric</td>
<td align="left">mmol electrons * s-1 * m-2</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Nleaf</td>
<td align="left">Nitrogen mass per leaf dry mass</td>
<td align="left">Numeric</td>
<td align="left">mg N / g dry</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Nsapwood</td>
<td align="left">Nitrogen mass per sapwood dry mass</td>
<td align="left">Numeric</td>
<td align="left">mg N / g dry</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Nfineroot</td>
<td align="left">Nitrogen mass per fine root dry mass</td>
<td align="left">Numeric</td>
<td align="left">mg N / g dry</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">WoodC</td>
<td align="left">Wood carbon content per dry mass</td>
<td align="left">Numeric</td>
<td align="left">g C / g dry</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">RERleaf</td>
<td align="left">Maintenance respiration rates for leaves.</td>
<td align="left">Numeric</td>
<td align="left">g gluc * g dry-1 * day-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">RERsapwood</td>
<td align="left">Maintenance respiration rates for living cells of
sapwood.</td>
<td align="left">Numeric</td>
<td align="left">g gluc * g dry-1 * day-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">RERfineroot</td>
<td align="left">Maintenance respiration rates for fine roots.</td>
<td align="left">Numeric</td>
<td align="left">g gluc * g dry-1 * day-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">CCleaf</td>
<td align="left">Leaf construction costs</td>
<td align="left">Numeric</td>
<td align="left">g gluc * g dry-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">CCsapwood</td>
<td align="left">Sapwood construction costs</td>
<td align="left">Numeric</td>
<td align="left">g gluc * g dry-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">CCfineroot</td>
<td align="left">Fine root construction costs</td>
<td align="left">Numeric</td>
<td align="left">g gluc * g dry-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">RGRleafmax</td>
<td align="left">Maximum leaf relative growth rate</td>
<td align="left">Numeric</td>
<td align="left">m2/cm2/day</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">RGRsapwoodmax</td>
<td align="left">Maximum sapwood growth rate relative to sapwood area
(for shrubs)</td>
<td align="left">Numeric</td>
<td align="left">cm2/cm2/day</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">RGRcambiummax</td>
<td align="left">Maximum sapwood growth rate relative to cambium
perimeter (for trees)</td>
<td align="left">Numeric</td>
<td align="left">cm2/cm/day</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">RGRfinerootmax</td>
<td align="left">Maximum fineroot relative growth rate</td>
<td align="left">Numeric</td>
<td align="left">g dry/g dry/day</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">SRsapwood</td>
<td align="left">Sapwood daily senescence rate</td>
<td align="left">Numeric</td>
<td align="left">Day-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">SRfineroot</td>
<td align="left">Fine root daily senescence rate</td>
<td align="left">Numeric</td>
<td align="left">Day-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">RSSG</td>
<td align="left">Minimum relative starch for sapwood growth</td>
<td align="left">Numeric</td>
<td align="left">[0-1]</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">MortalityBaselineRate</td>
<td align="left">Deterministic proportion or probability specifying the
baseline reduction of cohort’s density occurring in a year</td>
<td align="left">Numeric</td>
<td align="left">Year-1</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">SurvivalModelStep</td>
<td align="left">Time step in years of the empirical survival model
depending on stand basal area (e.g. 10)</td>
<td align="left">Numeric</td>
<td align="left">Year</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">SurvivalB0</td>
<td align="left">Intercept of the logistic baseline survival model
depending on stand basal area</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">SurvivalB1</td>
<td align="left">Slope of the logistic baseline survival model depending
on stand basal area</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">SeedProductionHeight</td>
<td align="left">Minimum shrub height for seed production</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">SeedProductionDiameter</td>
<td align="left">Minimum tree diameter for seed production</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">SeedMass</td>
<td align="left">Seed dry mass</td>
<td align="left">Numeric</td>
<td align="left">mg</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">SeedLongevity</td>
<td align="left">Seedbank average longevity</td>
<td align="left">Numeric</td>
<td align="left">yr</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">DispersalDistance</td>
<td align="left">Distance parameter for dispersal kernel</td>
<td align="left">Numeric</td>
<td align="left">m</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">DispersalShape</td>
<td align="left">Shape parameter for dispersal kernel</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">ProbRecr</td>
<td align="left">Probability of recruitment within the bioclimatic
envelope</td>
<td align="left">Numeric</td>
<td align="left">[0-1]</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">MinTempRecr</td>
<td align="left">Minimum average temperature of the coldest month for
successful recruitment</td>
<td align="left">Numeric</td>
<td align="left">Degrees C</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">MinMoistureRecr</td>
<td align="left">Minimum value of the moisture index (annual
precipitation over annual PET) for successful recruitment</td>
<td align="left">Numeric</td>
<td align="left">unitless</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">MinFPARRecr</td>
<td align="left">Minimum percentage of PAR at the ground level for
successful recruitment</td>
<td align="left">Numeric</td>
<td align="left">%</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">RecrTreeDBH</td>
<td align="left">Recruitment tree dbh (typically 1 cm)</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">RecrTreeHeight</td>
<td align="left">Recruitment tree (sapling) height</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">RecrShrubHeight</td>
<td align="left">Recruitment shrub height</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">RecrTreeDensity</td>
<td align="left">Recruitment tree (sapling) density</td>
<td align="left">Numeric</td>
<td align="left">ind/ha</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">RecrShrubCover</td>
<td align="left">Recruitment shrub cover</td>
<td align="left">Numeric</td>
<td align="left">%</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">RecrZ50</td>
<td align="left">Recruitment depth corresponding to 50% of fine
roots</td>
<td align="left">Numeric</td>
<td align="left">mm</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">RecrZ95</td>
<td align="left">Recruitment depth corresponding to 95% of fine
roots</td>
<td align="left">Numeric</td>
<td align="left">mm</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">RespFire</td>
<td align="left">Probability of resprouting after fire disturbance</td>
<td align="left">Numeric</td>
<td align="left">[0-1]</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">RespDist</td>
<td align="left">Probability of resprouting after undefined disturbance
(typically desiccation)</td>
<td align="left">Numeric</td>
<td align="left">[0-1]</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">RespClip</td>
<td align="left">Probability of resprouting after clipping</td>
<td align="left">Numeric</td>
<td align="left">[0-1]</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">IngrowthTreeDensity</td>
<td align="left">Tree density when reaching DBH of ingrowth</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">IngrowthTreeDBH</td>
<td align="left">Tree DBH of ingrowth (typically 7.5 cm)</td>
<td align="left">Numeric</td>
<td align="left">ind/ha</td>
<td align="left">FALSE</td>
</tr>
</tbody>
</table>
<p>In order to understand the role of parameters in the model, you
should read the details of model design and formulation included in the
<a href="https://emf-creaf.github.io/medfatebook/index.html"><strong>medfatebook</strong></a>.
Details regarding how the species parameter tables are build can be
found in <a href="https://emf-creaf.github.io/traits4models/index.html" class="external-link"><strong>traits4models</strong></a>.</p>
</div>
<div class="section level2">
<h2 id="vegetation">Vegetation<a class="anchor" aria-label="anchor" href="#vegetation"></a>
</h2>
<div class="section level3">
<h3 id="forest-objects">Forest objects<a class="anchor" aria-label="anchor" href="#forest-objects"></a>
</h3>
<p>Models included in <code>medfate</code> were primarily designed to be
ran on <strong>forest inventory plots</strong>. In this kind of data,
the vegetation of a sampled area is often described by several records
of woody plants (trees and shrubs) along with their size and species
identity. Forest plots in <code>medfate</code> are assumed to be in a
data structure that follows closely the Spanish national forest
inventory, but is simple enough to so that other forest sampling schemes
can be mapped onto it.</p>
<p>Each forest plot is represented in an object of class
<code>forest</code>, a list that contains several elements. Among them,
the most important items are two data frames, <code>treeData</code> (for
trees) and <code>shrubData</code> (for shrubs):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">exampleforest</span><span class="op">)</span></span>
<span><span class="va">exampleforest</span></span></code></pre></div>
<pre><code><span><span class="co">## $treeData</span></span>
<span><span class="co">##            Species   N   DBH Height Z50  Z95</span></span>
<span><span class="co">## 1 Pinus halepensis 168 37.55    800 100  600</span></span>
<span><span class="co">## 2     Quercus ilex 384 14.60    660 300 1000</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $shrubData</span></span>
<span><span class="co">##             Species Cover Height Z50  Z95</span></span>
<span><span class="co">## 1 Quercus coccifera  3.75     80 200 1000</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $herbCover</span></span>
<span><span class="co">## [1] 10</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $herbHeight</span></span>
<span><span class="co">## [1] 20</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $seedBank</span></span>
<span><span class="co">## [1] Species Percent</span></span>
<span><span class="co">## &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attr(,"class")</span></span>
<span><span class="co">## [1] "forest" "list"</span></span></code></pre>
<p>Trees are expected to be primarily described in terms of species,
diameter (DBH; cm) and height (cm), whereas shrubs are described in
terms of species, percent cover (%) and mean height (cm). Root
distribution has to be specified for both growth forms, in terms of the
depths (mm) corresponding to 50% and 95% of cumulative fine root
distribution. Functions are provided in the package to map variables in
user data frames into tables <code>treeData</code> and
<code>shrubData</code>. Information about the herb layer may be either
absent or included in an aggregated way (i.e. without distinguishing
cohorts).</p>
<p>While the former example illustrates the standard structure of a
<code>forest</code> object, users may use an alternative description,
based on leaf area index and crown ratio of woody cohorts and the herb
layer:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">exampleforest2</span><span class="op">)</span></span>
<span><span class="va">exampleforest2</span></span></code></pre></div>
<pre><code><span><span class="co">## $treeData</span></span>
<span><span class="co">##            Species  N DBH Height Z50  Z95 LAI CrownRatio</span></span>
<span><span class="co">## 1 Pinus halepensis NA  NA    800 100  600 0.8       0.66</span></span>
<span><span class="co">## 2     Quercus ilex NA  NA    660 300 1000 0.5       0.60</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $shrubData</span></span>
<span><span class="co">##             Species Cover Height Z50  Z95  LAI CrownRatio</span></span>
<span><span class="co">## 1 Quercus coccifera    NA     80 200 1000 0.03        0.8</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $herbCover</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $herbHeight</span></span>
<span><span class="co">## [1] 20</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $herbLAI</span></span>
<span><span class="co">## [1] 0.25</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $seedBank</span></span>
<span><span class="co">## [1] Species Percent</span></span>
<span><span class="co">## &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attr(,"class")</span></span>
<span><span class="co">## [1] "forest" "list"</span></span></code></pre>
<p>This alternative <code>forest</code> form is suitable for water
balance simulations, but does not allow simulating forest dynamics.</p>
</div>
<div class="section level3">
<h3 id="single-cohort-forests">Single-cohort forests<a class="anchor" aria-label="anchor" href="#single-cohort-forests"></a>
</h3>
<p>Although <code>medfate</code> has been designed to perform
simulations on multi-cohort forests, it can also handle simulations
where vegetation is described using a single cohort. Functions
<code><a href="../../reference/tree2forest.html">tree2forest()</a></code> and <code><a href="../../reference/tree2forest.html">shrub2forest()</a></code> allow
defining single-cohort forests from attributes. For example a holm oak
(<em>Quercus ilex</em>) forest of 4-m height and having a leaf area
index of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mspace width="0.167em"></mspace><msup><mi>m</mi><mn>2</mn></msup><mo>⋅</mo><msup><mi>m</mi><mrow><mi>−</mi><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2\, m^2\cdot m^{-2}</annotation></semantics></math>
can be defined using:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oak_forest</span> <span class="op">&lt;-</span><span class="fu"><a href="../../reference/tree2forest.html">tree2forest</a></span><span class="op">(</span><span class="st">"Quercus ilex"</span>, Height<span class="op">=</span> <span class="fl">400</span>, LAI <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>The function will return a <code>forest</code> object where most
attributes are empty:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oak_forest</span></span></code></pre></div>
<pre><code><span><span class="co">## $treeData</span></span>
<span><span class="co">##        Species DBH Height  N Z50 Z95 LAI</span></span>
<span><span class="co">## 1 Quercus ilex  NA    400 NA  NA  NA   2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $shrubData</span></span>
<span><span class="co">## [1] Species Height  Cover   Z50     Z95    </span></span>
<span><span class="co">## &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $herbCover</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $herbHeight</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $seedBank</span></span>
<span><span class="co">## [1] Species Percent</span></span>
<span><span class="co">## &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attr(,"class")</span></span>
<span><span class="co">## [1] "forest" "list"</span></span></code></pre>
<p>Since density and diameter have not been provided, simulations in
this case will be restricted to water balance. Moreover, note that when
defining single-cohort forests all possible interactions with
functionally distinct plants are neglected.</p>
</div>
<div class="section level3">
<h3 id="aboveground-and-belowground-data">Aboveground and belowground data<a class="anchor" aria-label="anchor" href="#aboveground-and-belowground-data"></a>
</h3>
<p>We can use some functions to inspect how above-ground and
below-ground information is represented in <code>medfate</code>.</p>
<p>For example, we can use function <code><a href="../../reference/forest2aboveground.html">forest2aboveground()</a></code> on
the object <code>exampleforest</code> to show how medfate completes
above-ground information:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">above</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/forest2aboveground.html">forest2aboveground</a></span><span class="op">(</span><span class="va">exampleforest</span>, <span class="va">SpParamsMED</span><span class="op">)</span></span>
<span><span class="va">above</span></span></code></pre></div>
<pre><code><span><span class="co">##         SP        N   DBH Cover   H        CR   LAI_live LAI_expanded LAI_dead</span></span>
<span><span class="co">## T1_148 148 168.0000 37.55    NA 800 0.6605196 0.84874773   0.84874773        0</span></span>
<span><span class="co">## T2_168 168 384.0000 14.60    NA 660 0.6055642 0.70557382   0.70557382        0</span></span>
<span><span class="co">## S1_165 165 749.4923    NA  3.75  80 0.8032817 0.03062604   0.03062604        0</span></span>
<span><span class="co">##        LAI_nocomp ObsID</span></span>
<span><span class="co">## T1_148 1.29720268  &lt;NA&gt;</span></span>
<span><span class="co">## T2_168 1.01943205  &lt;NA&gt;</span></span>
<span><span class="co">## S1_165 0.04412896  &lt;NA&gt;</span></span></code></pre>
<p>Note that the call to <code><a href="../../reference/forest2aboveground.html">forest2aboveground()</a></code> included the
species parameter table, because species-specific allometric
coefficients are needed to calculate leaf area from tree size or shrub
percent cover and height. Moreover, note that the plant cohorts were
given unique codes that tell us whether they correspond to trees (‘T’)
or shrubs (‘S’).</p>
<p>Columns <code>N</code>, <code>DBH</code> and <code>Cover</code>
describe forest structure and are required for simulating growth, but
not for soil water balance, which only requires columns <code>SP</code>,
<code>H</code> (in cm), <code>CR</code> (i.e. the crown ratio),
<code>LAI_live</code>, <code>LAI_expanded</code> and
<code>LAI_dead</code>. Therefore, one could use alternative forest
description as starting point, i.e.:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">above2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/forest2aboveground.html">forest2aboveground</a></span><span class="op">(</span><span class="va">exampleforest2</span>, <span class="va">SpParamsMED</span><span class="op">)</span></span>
<span><span class="va">above2</span></span></code></pre></div>
<pre><code><span><span class="co">##         SP  N DBH Cover   H   CR LAI_live LAI_expanded LAI_dead LAI_nocomp</span></span>
<span><span class="co">## T1_148 148 NA  NA    NA 800 0.66     0.80         0.80        0       0.80</span></span>
<span><span class="co">## T2_168 168 NA  NA    NA 660 0.60     0.50         0.50        0       0.50</span></span>
<span><span class="co">## S1_165 165 NA  NA    NA  80 0.80     0.03         0.03        0       0.03</span></span>
<span><span class="co">##        ObsID</span></span>
<span><span class="co">## T1_148  &lt;NA&gt;</span></span>
<span><span class="co">## T2_168  &lt;NA&gt;</span></span>
<span><span class="co">## S1_165  &lt;NA&gt;</span></span></code></pre>
<p>Of course, the resulting data frame has missing values, whereas the
other values are directly copied from <code>forest</code>.</p>
<p>Aboveground leaf area distribution (with or without distinguishing
among cohorts) can be examined by calling function
<code><a href="../../reference/vprofile_leafAreaDensity.html">vprofile_leafAreaDensity()</a></code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/vprofile_leafAreaDensity.html">vprofile_leafAreaDensity</a></span><span class="op">(</span><span class="va">exampleforest</span>, <span class="va">SpParamsMED</span>, byCohorts <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p><img src="UnderstandingInputs_files/figure-html/unnamed-chunk-10-1.png" alt="Leaf area density plot" width="384" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/vprofile_leafAreaDensity.html">vprofile_leafAreaDensity</a></span><span class="op">(</span><span class="va">exampleforest</span>, <span class="va">SpParamsMED</span>, byCohorts <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><img src="UnderstandingInputs_files/figure-html/unnamed-chunk-11-1.png" alt="Leaf area density plot by species" width="480" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="belowground-data">Belowground data<a class="anchor" aria-label="anchor" href="#belowground-data"></a>
</h3>
<p>Regarding <strong>belowground</strong> information, we need vectors
with depths corresponding to 50% and 95% of fine roots, which we simply
concatenate from our forest data:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Z50</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">exampleforest</span><span class="op">$</span><span class="va">treeData</span><span class="op">$</span><span class="va">Z50</span>, <span class="va">exampleforest</span><span class="op">$</span><span class="va">shrubData</span><span class="op">$</span><span class="va">Z50</span><span class="op">)</span></span>
<span><span class="va">Z95</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">exampleforest</span><span class="op">$</span><span class="va">treeData</span><span class="op">$</span><span class="va">Z95</span>, <span class="va">exampleforest</span><span class="op">$</span><span class="va">shrubData</span><span class="op">$</span><span class="va">Z95</span><span class="op">)</span></span></code></pre></div>
<p>These parameters specify a continuous distribution of fine roots.
Users can visually inspect the distribution of fine roots of
<code>forest</code> objects by calling function
<code><a href="../../reference/vprofile_leafAreaDensity.html">vprofile_rootDistribution()</a></code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/vprofile_leafAreaDensity.html">vprofile_rootDistribution</a></span><span class="op">(</span><span class="va">exampleforest</span>, <span class="va">SpParamsMED</span><span class="op">)</span></span></code></pre></div>
<p><img src="UnderstandingInputs_files/figure-html/unnamed-chunk-13-1.png" alt="Fine root distribution" width="480" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="soils">Soils<a class="anchor" aria-label="anchor" href="#soils"></a>
</h2>
<div class="section level3">
<h3 id="soil-physical-description">Soil physical description<a class="anchor" aria-label="anchor" href="#soil-physical-description"></a>
</h3>
<p>Simulation models in <code>medfate</code> require information on the
physical attributes of soil, namely soil depth, texture, bulk density
and rock fragment content. Soil physical attributes can be initialized
to default values, for a given number of layers, using function
<code><a href="../../reference/defaultSoilParams.html">defaultSoilParams()</a></code>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/defaultSoilParams.html">defaultSoilParams</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">spar</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   widths clay sand om nitrogen  bd rfc</span></span>
<span><span class="co">## 1    300   25   25 NA       NA 1.5  25</span></span>
<span><span class="co">## 2    700   25   25 NA       NA 1.5  45</span></span>
<span><span class="co">## 3   1000   25   25 NA       NA 1.5  75</span></span>
<span><span class="co">## 4   2000   25   25 NA       NA 1.5  95</span></span></code></pre>
<p>where <code>widths</code> are soil layer widths in mm;
<code>clay</code> and <code>sand</code> are the percentage of clay and
sand, in percent of dry weight, <code>om</code> stands for organic
matter, <code>bd</code> is bulk density (in
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>⋅</mo><mi>c</mi><msup><mi>m</mi><mrow><mi>−</mi><mn>3</mn></mrow></msup></mrow><annotation encoding="application/x-tex">g \cdot cm^{-3}</annotation></semantics></math>)
and <code>rfc</code> the percentage of rock fragments. Because soil
properties vary strongly at fine spatial scales, ideally soil physical
attributes should be measured on samples taken at the forest stand to be
simulated. For those users lacking such data, soil properties are
available via SoilGrids.org.</p>
</div>
<div class="section level3">
<h3 id="initialized-soil-object">Initialized soil object<a class="anchor" aria-label="anchor" href="#initialized-soil-object"></a>
</h3>
<p>Simulations need additional soil parameters and state variables. The
soil input for simulations is an object of class <code>soil</code> (also
a data frame) that is created using a function with the same name:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">examplesoil</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/soil.html">soil</a></span><span class="op">(</span><span class="va">spar</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">examplesoil</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "soil"       "data.frame"</span></span></code></pre>
<p>In addition to the physical soil description, this object contains
soil parameters and state variables needed for soil water balance
simulations:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">examplesoil</span></span></code></pre></div>
<pre><code><span><span class="co">##   widths sand clay      usda om nitrogen  bd rfc  macro     Ksat VG_alpha</span></span>
<span><span class="co">## 1    300   25   25 Silt loam NA       NA 1.5  25 0.0485 5401.471 89.16112</span></span>
<span><span class="co">## 2    700   25   25 Silt loam NA       NA 1.5  45 0.0485 5401.471 89.16112</span></span>
<span><span class="co">## 3   1000   25   25 Silt loam NA       NA 1.5  75 0.0485 5401.471 89.16112</span></span>
<span><span class="co">## 4   2000   25   25 Silt loam NA       NA 1.5  95 0.0485 5401.471 89.16112</span></span>
<span><span class="co">##       VG_n VG_theta_res VG_theta_sat W Temp</span></span>
<span><span class="co">## 1 1.303861        0.041     0.423715 1   NA</span></span>
<span><span class="co">## 2 1.303861        0.041     0.423715 1   NA</span></span>
<span><span class="co">## 3 1.303861        0.041     0.423715 1   NA</span></span>
<span><span class="co">## 4 1.303861        0.041     0.423715 1   NA</span></span></code></pre>
<p>For example, <code>macro</code> specifies the macroporosity of each
layer. The meaning of all elements in the soil object can be found in
the help page for function <code><a href="../../reference/soil.html">soil()</a></code>.</p>
<p>At any time, one can show the characteristics and status of the soil
object using its <code>summary</code> function:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">examplesoil</span>, model <span class="op">=</span> <span class="st">"SX"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Soil depth (mm): 4000 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Layer  1  [ 0  to  300 mm ] </span></span>
<span><span class="co">##     clay (%): 25 silt (%): 50 sand (%): 25 organic matter (%): NA [ Silt loam ]</span></span>
<span><span class="co">##     Rock fragment content (%): 25 Macroporosity (%): 5 </span></span>
<span><span class="co">##     Theta WP (%): 14 Theta FC (%): 30 Theta SAT (%): 49 Theta current (%) 30 </span></span>
<span><span class="co">##     Vol. WP (mm): 32 Vol. FC (mm): 68 Vol. SAT (mm): 111 Vol. current (mm): 68 </span></span>
<span><span class="co">##     Temperature (Celsius): NA </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Layer  2  [ 300  to  1000 mm ] </span></span>
<span><span class="co">##     clay (%): 25 silt (%): 50 sand (%): 25 organic matter (%): NA [ Silt loam ]</span></span>
<span><span class="co">##     Rock fragment content (%): 45 Macroporosity (%): 5 </span></span>
<span><span class="co">##     Theta WP (%): 14 Theta FC (%): 30 Theta SAT (%): 49 Theta current (%) 30 </span></span>
<span><span class="co">##     Vol. WP (mm): 55 Vol. FC (mm): 117 Vol. SAT (mm): 190 Vol. current (mm): 117 </span></span>
<span><span class="co">##     Temperature (Celsius): NA </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Layer  3  [ 1000  to  2000 mm ] </span></span>
<span><span class="co">##     clay (%): 25 silt (%): 50 sand (%): 25 organic matter (%): NA [ Silt loam ]</span></span>
<span><span class="co">##     Rock fragment content (%): 75 Macroporosity (%): 5 </span></span>
<span><span class="co">##     Theta WP (%): 14 Theta FC (%): 30 Theta SAT (%): 49 Theta current (%) 30 </span></span>
<span><span class="co">##     Vol. WP (mm): 36 Vol. FC (mm): 76 Vol. SAT (mm): 123 Vol. current (mm): 76 </span></span>
<span><span class="co">##     Temperature (Celsius): NA </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Layer  4  [ 2000  to  4000 mm ] </span></span>
<span><span class="co">##     clay (%): 25 silt (%): 50 sand (%): 25 organic matter (%): NA [ Silt loam ]</span></span>
<span><span class="co">##     Rock fragment content (%): 95 Macroporosity (%): 5 </span></span>
<span><span class="co">##     Theta WP (%): 14 Theta FC (%): 30 Theta SAT (%): 49 Theta current (%) 30 </span></span>
<span><span class="co">##     Vol. WP (mm): 14 Vol. FC (mm): 30 Vol. SAT (mm): 49 Vol. current (mm): 30 </span></span>
<span><span class="co">##     Temperature (Celsius): NA </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Total soil saturated capacity (mm): 473 </span></span>
<span><span class="co">## Total soil water holding capacity (mm): 291 </span></span>
<span><span class="co">## Total soil extractable water (mm): 183 </span></span>
<span><span class="co">## Total soil current Volume (mm): 291 </span></span>
<span><span class="co">## Saturated water depth (mm): NA</span></span></code></pre>
<p>Importantly, the soil object is used to store the degree of moisture
of each soil layer. In particular, element <code>W</code> contains the
state variable that represents moisture content - the proportion of
moisture <strong>relative to field capacity</strong> - which is normally
initialized to 1 for each layer:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">examplesoil</span><span class="op">$</span><span class="va">W</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 1 1 1</span></span></code></pre>
<p>Advanced soil plant energy and water balance modelling requires
considering the temperature of soil. Hence, <code>Temp</code> contains
the temperature (in degrees) of soil layers:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">examplesoil</span><span class="op">$</span><span class="va">Temp</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] NA NA NA NA</span></span></code></pre>
<p>Soil layer temperatures are initialized to missing values, so that at
the first time step they will be set to atmospheric temperature. While
simple water balance modeling can be run using either Saxton’s or Van
Genuchten’s equations as water retention curves, Van Genuchten’s model
is forced for advanced modelling.</p>
<p>Users can skip the call function <code><a href="../../reference/soil.html">soil()</a></code> when creating
input objects for simulations (see below).</p>
</div>
<div class="section level3">
<h3 id="water-retention-curves">Water retention curves<a class="anchor" aria-label="anchor" href="#water-retention-curves"></a>
</h3>
<p>The modelled moisture content of the soil depends on the
<strong>water retention curve</strong> used to represent the
relationship between soil volumetric water content
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>θ</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>;
%) and soil water potential
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Ψ</mi><annotation encoding="application/x-tex">\Psi</annotation></semantics></math>;
MPa). By default the Saxton (<code>model = "SX"</code>) equations are
used to model the water retention curve, but the user may choose to
follow Van Genuchten - Mualem equations, which will give slightly
different values for the same texture:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">examplesoil</span>, model<span class="op">=</span><span class="st">"VG"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Soil depth (mm): 4000 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Layer  1  [ 0  to  300 mm ] </span></span>
<span><span class="co">##     clay (%): 25 silt (%): 50 sand (%): 25 organic matter (%): NA [ Silt loam ]</span></span>
<span><span class="co">##     Rock fragment content (%): 25 Macroporosity (%): 5 </span></span>
<span><span class="co">##     Theta WP (%): 13 Theta FC (%): 30 Theta SAT (%): 42 Theta current (%) 30 </span></span>
<span><span class="co">##     Vol. WP (mm): 29 Vol. FC (mm): 68 Vol. SAT (mm): 95 Vol. current (mm): 68 </span></span>
<span><span class="co">##     Temperature (Celsius): NA </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Layer  2  [ 300  to  1000 mm ] </span></span>
<span><span class="co">##     clay (%): 25 silt (%): 50 sand (%): 25 organic matter (%): NA [ Silt loam ]</span></span>
<span><span class="co">##     Rock fragment content (%): 45 Macroporosity (%): 5 </span></span>
<span><span class="co">##     Theta WP (%): 13 Theta FC (%): 30 Theta SAT (%): 42 Theta current (%) 30 </span></span>
<span><span class="co">##     Vol. WP (mm): 49 Vol. FC (mm): 117 Vol. SAT (mm): 163 Vol. current (mm): 117 </span></span>
<span><span class="co">##     Temperature (Celsius): NA </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Layer  3  [ 1000  to  2000 mm ] </span></span>
<span><span class="co">##     clay (%): 25 silt (%): 50 sand (%): 25 organic matter (%): NA [ Silt loam ]</span></span>
<span><span class="co">##     Rock fragment content (%): 75 Macroporosity (%): 5 </span></span>
<span><span class="co">##     Theta WP (%): 13 Theta FC (%): 30 Theta SAT (%): 42 Theta current (%) 30 </span></span>
<span><span class="co">##     Vol. WP (mm): 32 Vol. FC (mm): 76 Vol. SAT (mm): 106 Vol. current (mm): 76 </span></span>
<span><span class="co">##     Temperature (Celsius): NA </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Layer  4  [ 2000  to  4000 mm ] </span></span>
<span><span class="co">##     clay (%): 25 silt (%): 50 sand (%): 25 organic matter (%): NA [ Silt loam ]</span></span>
<span><span class="co">##     Rock fragment content (%): 95 Macroporosity (%): 5 </span></span>
<span><span class="co">##     Theta WP (%): 13 Theta FC (%): 30 Theta SAT (%): 42 Theta current (%) 30 </span></span>
<span><span class="co">##     Vol. WP (mm): 13 Vol. FC (mm): 30 Vol. SAT (mm): 42 Vol. current (mm): 30 </span></span>
<span><span class="co">##     Temperature (Celsius): NA </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Total soil saturated capacity (mm): 407 </span></span>
<span><span class="co">## Total soil water holding capacity (mm): 291 </span></span>
<span><span class="co">## Total soil extractable water (mm): 194 </span></span>
<span><span class="co">## Total soil current Volume (mm): 291 </span></span>
<span><span class="co">## Saturated water depth (mm): NA</span></span></code></pre>
<p>While Saxton equations use texture and organic matter as inputs, the
Van Genuchten-Mualem equations need other parameters, which are
estimated using pedotransfer functions and their names start with
<code>VG_</code> (two alternative options are provided in function
<code>soil</code> to estimate Van Genuchten parameters). The following
code calls function <code><a href="../../reference/soil_texture.html">soil_retentionCurvePlot()</a></code> to illustrate
the difference between the two water retention models in this soil:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/soil_texture.html">soil_retentionCurvePlot</a></span><span class="op">(</span><span class="va">examplesoil</span>, model<span class="op">=</span><span class="st">"both"</span><span class="op">)</span></span></code></pre></div>
<p><img src="UnderstandingInputs_files/figure-html/unnamed-chunk-21-1.png" alt="Soil water retention" width="480" style="display: block; margin: auto;"></p>
<p>Low-level functions, such as <code><a href="../../reference/soil_texture.html">soil_psi2thetaSX()</a></code> and
<code><a href="../../reference/soil_texture.html">soil_psi2thetaVG()</a></code> (and their counterparts
<code><a href="../../reference/soil_texture.html">soil_theta2psiSX()</a></code> and <code><a href="../../reference/soil_texture.html">soil_theta2psiVG()</a></code>),
can be used to calculate volumetric soil moisture from the water
potential (and viceversa) using the two models. When simulating soil
water balance, the user can choose among the two models (see
<code>control</code> parameters below).</p>
</div>
</div>
<div class="section level2">
<h2 id="meteorological-forcing">Meteorological forcing<a class="anchor" aria-label="anchor" href="#meteorological-forcing"></a>
</h2>
<p>All simulations in the package require daily weather inputs. The
minimum weather variables that are required are minimum/maximum
temperature, minimum/maximum relative humidity, precipitation and
radiation. Other variables like wind speed are recommended but not
required. Here we show an example of meteorological forcing data.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">examplemeteo</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">examplemeteo</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##        dates MinTemperature MaxTemperature Precipitation MinRelativeHumidity</span></span>
<span><span class="co">## 1 2001-01-01     -0.5934215       6.287950      4.869109            65.15411</span></span>
<span><span class="co">## 2 2001-01-02     -2.3662458       4.569737      2.498292            57.43761</span></span>
<span><span class="co">## 3 2001-01-03     -3.8541036       2.661951      0.000000            58.77432</span></span>
<span><span class="co">## 4 2001-01-04     -1.8744860       3.097705      5.796973            66.84256</span></span>
<span><span class="co">## 5 2001-01-05      0.3288287       7.551532      1.884401            62.97656</span></span>
<span><span class="co">## 6 2001-01-06      0.5461322       7.186784     13.359801            74.25754</span></span>
<span><span class="co">##   MaxRelativeHumidity Radiation WindSpeed</span></span>
<span><span class="co">## 1           100.00000  12.89251  2.000000</span></span>
<span><span class="co">## 2            94.71780  13.03079  7.662544</span></span>
<span><span class="co">## 3            94.66823  16.90722  2.000000</span></span>
<span><span class="co">## 4            95.80950  11.07275  2.000000</span></span>
<span><span class="co">## 5           100.00000  13.45205  7.581347</span></span>
<span><span class="co">## 6           100.00000  12.84841  6.570501</span></span></code></pre>
<p>Simulation models in <strong>medfate</strong> have been designed to
work along with data generated from package <a href="https://emf-creaf.github.io/meteoland/" class="external-link">meteoland</a>. The user is
strongly recommended to resort to this package to obtain suitable
weather input for medfate simulations.</p>
</div>
<div class="section level2">
<h2 id="simulation-control">Simulation control<a class="anchor" aria-label="anchor" href="#simulation-control"></a>
</h2>
<p>Apart from data inputs, the behaviour of simulation models can be
controlled using a set of global parameters. The default
parameterization is obtained using function
<code><a href="../../reference/defaultControl.html">defaultControl()</a></code>:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">control</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/defaultControl.html">defaultControl</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">control</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   [1] "fillMissingRootParams"            "fillMissingSpParams"             </span></span>
<span><span class="co">##   [3] "fillMissingWithGenusParams"       "verbose"                         </span></span>
<span><span class="co">##   [5] "subdailyResults"                  "standResults"                    </span></span>
<span><span class="co">##   [7] "soilResults"                      "snowResults"                     </span></span>
<span><span class="co">##   [9] "plantResults"                     "plantWaterBalanceResults"        </span></span>
<span><span class="co">##  [11] "labileCarbonBalanceResults"       "plantStructureResults"           </span></span>
<span><span class="co">##  [13] "growthMortalityResults"           "leafResults"                     </span></span>
<span><span class="co">##  [15] "temperatureResults"               "fireHazardResults"               </span></span>
<span><span class="co">##  [17] "fireHazardStandardWind"           "fireHazardStandardDFMC"          </span></span>
<span><span class="co">##  [19] "transpirationMode"                "soilFunctions"                   </span></span>
<span><span class="co">##  [21] "VG_PTF"                           "ndailysteps"                     </span></span>
<span><span class="co">##  [23] "max_nsubsteps_soil"               "defaultWindSpeed"                </span></span>
<span><span class="co">##  [25] "defaultCO2"                       "defaultRainfallIntensityPerMonth"</span></span>
<span><span class="co">##  [27] "leafPhenology"                    "bareSoilEvaporation"             </span></span>
<span><span class="co">##  [29] "unlimitedSoilWater"               "interceptionMode"                </span></span>
<span><span class="co">##  [31] "infiltrationMode"                 "infiltrationCorrection"          </span></span>
<span><span class="co">##  [33] "soilDomains"                      "rhizosphereOverlap"              </span></span>
<span><span class="co">##  [35] "unfoldingDD"                      "verticalLayerSize"               </span></span>
<span><span class="co">##  [37] "windMeasurementHeight"            "segmentedXylemVulnerability"     </span></span>
<span><span class="co">##  [39] "stemCavitationRecovery"           "leafCavitationRecovery"          </span></span>
<span><span class="co">##  [41] "lfmcComponent"                    "hydraulicRedistributionFraction" </span></span>
<span><span class="co">##  [43] "nsubsteps_canopy"                 "taper"                           </span></span>
<span><span class="co">##  [45] "multiLayerBalance"                "sapFluidityVariation"            </span></span>
<span><span class="co">##  [47] "TPhase_gmin"                      "Q10_1_gmin"                      </span></span>
<span><span class="co">##  [49] "Q10_2_gmin"                       "rootRadialConductance"           </span></span>
<span><span class="co">##  [51] "averageFracRhizosphereResistance" "thermalCapacityLAI"              </span></span>
<span><span class="co">##  [53] "boundaryLayerSize"                "cavitationRecoveryMaximumRate"   </span></span>
<span><span class="co">##  [55] "sunlitShade"                      "numericParams"                   </span></span>
<span><span class="co">##  [57] "leafCavitationEffects"            "stemCavitationEffects"           </span></span>
<span><span class="co">##  [59] "stomatalSubmodel"                 "plantCapacitance"                </span></span>
<span><span class="co">##  [61] "cavitationFlux"                   "soilDisconnection"               </span></span>
<span><span class="co">##  [63] "leafCuticularTranspiration"       "stemCuticularTranspiration"      </span></span>
<span><span class="co">##  [65] "C_SApoInit"                       "C_LApoInit"                      </span></span>
<span><span class="co">##  [67] "k_SSym"                           "fractionLeafSymplasm"            </span></span>
<span><span class="co">##  [69] "gs_NightFrac"                     "JarvisPAR"                       </span></span>
<span><span class="co">##  [71] "fTRBToLeaf"                       "subdailyCarbonBalance"           </span></span>
<span><span class="co">##  [73] "allowDessication"                 "allowStarvation"                 </span></span>
<span><span class="co">##  [75] "sinkLimitation"                   "shrubDynamics"                   </span></span>
<span><span class="co">##  [77] "herbDynamics"                     "allocationStrategy"              </span></span>
<span><span class="co">##  [79] "phloemConductanceFactor"          "nonSugarConcentration"           </span></span>
<span><span class="co">##  [81] "equilibriumOsmoticConcentration"  "minimumRelativeStarchForGrowth"  </span></span>
<span><span class="co">##  [83] "constructionCosts"                "senescenceRates"                 </span></span>
<span><span class="co">##  [85] "maximumRelativeGrowthRates"       "mortalityMode"                   </span></span>
<span><span class="co">##  [87] "mortalityBaselineRate"            "mortalityRelativeSugarThreshold" </span></span>
<span><span class="co">##  [89] "mortalityRWCThreshold"            "recrTreeDBH"                     </span></span>
<span><span class="co">##  [91] "recrTreeDensity"                  "ingrowthTreeDBH"                 </span></span>
<span><span class="co">##  [93] "ingrowthTreeDensity"              "allowSeedBankDynamics"           </span></span>
<span><span class="co">##  [95] "allowRecruitment"                 "allowResprouting"                </span></span>
<span><span class="co">##  [97] "recruitmentMode"                  "removeEmptyCohorts"              </span></span>
<span><span class="co">##  [99] "minimumTreeCohortDensity"         "minimumShrubCohortCover"         </span></span>
<span><span class="co">## [101] "dynamicallyMergeCohorts"          "keepCohortsWithObsID"            </span></span>
<span><span class="co">## [103] "seedRain"                         "seedProductionTreeHeight"        </span></span>
<span><span class="co">## [105] "seedProductionShrubHeight"        "probRecr"                        </span></span>
<span><span class="co">## [107] "minTempRecr"                      "minMoistureRecr"                 </span></span>
<span><span class="co">## [109] "minFPARRecr"                      "recrTreeHeight"                  </span></span>
<span><span class="co">## [111] "recrShrubCover"                   "recrShrubHeight"                 </span></span>
<span><span class="co">## [113] "recrTreeZ50"                      "recrShrubZ50"                    </span></span>
<span><span class="co">## [115] "recrTreeZ95"                      "recrShrubZ95"</span></span></code></pre>
<p>Control parameters should normally be left to their default value
until their effect on simulations is fully understood.</p>
</div>
<div class="section level2">
<h2 id="input-objects-for-simulation-functions">Input objects for simulation functions<a class="anchor" aria-label="anchor" href="#input-objects-for-simulation-functions"></a>
</h2>
<p>Simulation functions <code><a href="../../reference/spwb.html">spwb()</a></code> and <code><a href="../../reference/growth.html">growth()</a></code>
(and similar functions) require first combining forest, soil,
species-parameter and simulation control inputs into a single input
object (of class <code>spwbInput</code> or <code>growthInput</code>)
that is then used as input to the corresponding simulation function
along with weather data. The combination of vegetation, soil and control
inputs is done via functions <code><a href="../../reference/modelInput.html">spwbInput()</a></code> and
<code><a href="../../reference/modelInput.html">growthInput()</a></code>. While it requires one additional line of
code, having this additional step is handy because cohort-level
parameters and state variables initialized can then be modified by the
user (or an automated calibration algorithm) before calling the actual
simulation functions. The input objects for functions
<code><a href="../../reference/spwb.html">spwb()</a></code> and <code><a href="../../reference/growth.html">growth()</a></code> are presented in more
detail in articles <a href="https://emf-creaf.github.io/medfate/articles/runmodels/BasicWaterBalance.html"><em>Basic
water balance</em></a> and <a href="https://emf-creaf.github.io/medfate/articles/runmodels/ForestGrowth.html"><em>Forest
growth</em></a>, respectively.</p>
<p>Function <code><a href="../../reference/fordyn.html">fordyn()</a></code> is different from the other two
simulation functions, in the sense that the user enters forest, soil,
species-parameter and simulation control inputs directly into the
simulation function (in fact, <code><a href="../../reference/fordyn.html">fordyn()</a></code> internally calls
<code><a href="../../reference/modelInput.html">growthInput()</a></code> to initialize the input object to function
<code><a href="../../reference/growth.html">growth()</a></code>).</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miquel De Cáceres, Nicolas Martin-StPaul, Víctor Granda, Antoine Cabon, Arsène Druel, Julien Ruffault.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
